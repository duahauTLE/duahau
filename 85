#include <stdio.h>
#include <stdlib.h>
#include <math.h>

#define ll long long int

void sang_nguyen_to(ll n, ll *sang) {
    for (int i = 0; i < n; i++) {
        sang[i] = 1;
    }
    sang[0] = sang[1] = 0;

    for (int i = 2; i <= sqrt(n); i++) {
        for (int j = i * i; j <= n; j += i) {
            sang[j] = 0;
        }
    }
}

int main() {
    ll n = (ll)(sqrt(1000000000000));
    ll *sang = (ll *)malloc(n * sizeof(ll));
    if (sang == NULL) {
        printf("Không đủ bộ nhớ.\n");
        return 1;
    }

    sang_nguyen_to(n, sang);

    ll t;
    scanf("%lld", &t);
    while (t--) {
        ll dem = 0;
        ll a, b;
        scanf("%lld %lld", &a, &b);
        for (ll i = sqrt(a); i <= sqrt(b); i++) {
            if (sang[i] == 1) {
                dem++;
            }
        }
        printf("%lld\n", dem);
    }

    free(sang);
    return 0;
}
